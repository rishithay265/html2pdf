<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>HTML → PDF Converter</title>
<style>
    :root{
        --bg:#f7f7f8;
        --accent:#4f46e5;
        --accent-hover:#4338ca;
        --border:#e0e0e2;
        --text:#1a1a1c;
        --mono:#2f2f33;
        --radius:8px;
        --shadow:0 2px 8px rgba(0,0,0,.06);
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif}
    body{background:var(--bg);color:var(--text);padding:3rem 1rem;display:flex;justify-content:center}
    .wrapper{width:100%;max-width:960px;background:#fff;border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:2rem;display:grid;gap:1.5rem}
    h1{font-size:1.5rem;font-weight:600;text-align:center}
    textarea{width:100%;height:320px;resize:vertical;padding:1rem;border:1px solid var(--border);border-radius:var(--radius);font-family:Menlo,Consolas,monospace;font-size:.9rem;line-height:1.5}
    .controls{display:flex;gap:.75rem;justify-content:flex-end;flex-wrap:wrap}
    button{cursor:pointer;background:var(--accent);color:#fff;border:none;border-radius:var(--radius);padding:.75rem 1.25rem;font-size:.95rem;font-weight:500;transition:.15s}
    button:hover{background:var(--accent-hover)}
    button:disabled{opacity:.6;cursor:not-allowed}
    .previewBox{border:1px dashed var(--border);border-radius:var(--radius);padding:1rem;min-height:150px;background:#fafafa;overflow:auto}
    label{font-weight:600;margin-bottom:.25rem;display:block}
    @media (prefers-color-scheme:dark){
        :root{--bg:#141414;--text:#e5e5e5;--border:#333;--accent:#6366f1;--accent-hover:#818cf8;--mono:#e5e5e5}
        .wrapper{background:#1c1c1f}
        textarea{background:#121214;color:var(--mono)}
        .previewBox{background:#19191c}
    }
</style>
</head>
<body>
<div class="wrapper">
    <h1>HTML → PDF Converter</h1>

    <div>
        <label for="htmlInput">Paste or edit your HTML</label>
        <textarea id="htmlInput" placeholder="&lt;h2&gt;Hello World&lt;/h2&gt;&#10;&lt;p&gt;This will appear in the PDF.&lt;/p&gt;"></textarea>
    </div>

    <div class="controls">
        <button id="previewBtn" type="button">Preview</button>
        <button id="downloadBtn" type="button">Download PDF</button>
    </div>

    <div>
        <label>Live Preview (this element is what we'll print)</label>
        <div id="previewBox" class="previewBox"></div>
    </div>
</div>

<!-- Bundled html2pdf (jsPDF + html2canvas) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-YcsIPoNDH9q/SnBMm0RzFg4BGceGM33uR8xJt5cpHq+Bc3BouXBzECZRblMylE55fc8ytdfmxFjYvEgsrw0Jog==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
(() => {
    const inputEl     = document.getElementById('htmlInput');
    const previewBox  = document.getElementById('previewBox');
    const previewBtn  = document.getElementById('previewBtn');
    const downloadBtn = document.getElementById('downloadBtn');

    // Render textarea content inside preview area
    const renderPreview = () => {
        const markup = inputEl.value.trim() || '<p style="font-style:italic;color:#666">Preview will appear here…</p>';
        previewBox.innerHTML = markup;
    };

    // Initial preview
    renderPreview();

    previewBtn.addEventListener('click', renderPreview);

    downloadBtn.addEventListener('click', () => {
        renderPreview(); // ensure latest HTML is rendered
        const opt = {
            margin:      10,
            filename:    'export.pdf',
            image:       { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: window.devicePixelRatio || 2 },
            jsPDF:       { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };
        html2pdf().set(opt).from(previewBox).save();
    });
})();
</script>
</body>
</html>
